<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>XLab #9 - React Native</title>
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500" rel="stylesheet">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/simple.css">
		<link rel="stylesheet" href="css/main.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<img class="header__image" src="http://angular.github.io/react-native-renderer/assets/react.png" />
					<h3 class="header">React Native od podszewki</h3>
					<p>czyli jak łatwo stworzyć aplikację natywną, będąc web developerem</p>
					<aside class="notes">
						Cześć wszystkim!! Witam wszystkich na dzisiejszych warsztatach Xlab.
						Dzisiaj chcielibyśmy pokazać wam jak łatwo kazdy znajacy JavaScript i React'a jest w stanie stworzyć aplikacje natwyne na Android i IOS'a
					</aside>
				</section>
				<section>
					<section>
						<h3 class="header">Kto jest kim?</h3>
						<aside class="notes">
							Na początku chcielibyśmy się przedstawić 
						</aside>
					</section>
					<section>
						<img  src="https://chilid.com/assetsimages/logos/logo-chilid-blackish.svg" />
						<aside class="notes">
							Wszyscy jesteśmy Front-End Developer'ami w Chilid 
						</aside>
					</section>
					<section>
						<div class="image--circle">
							<img src="https://scontent-waw1-1.xx.fbcdn.net/v/t31.0-8/12916894_972843659451286_3966225881932606764_o.jpg?oh=3ab24c3dd2de5705cd8b98f6e3db99f9&oe=5993CD3D"/>
						</div>
						<h3 class="header header--small">Patryk Domałeczny</h3>
						<ul class="list">
							<li>Prawie najmłodszy Front-End developer w Chilid</li>
							<li>Zna AngularJS, React'a, VueJS</li>
							<li>Hobbystycznie bawi się w budowanie aplikacji natywnych z wykorzystanie JavaScript'u</li>
							<li>Po godzinnach DJ-amator</li>
						</ul>
						<aside class="notes">
							Od prawie 3 lat zajmuję się Front-End developmentem,
							Pisałem aplikacje w AngularJS w wersji 1.5, w React'cie z wykorzystanie Redux'a i Rxjs,
							Od roku zacząłem coraz bardziej zgłębiać tajniki Electrona'a i rozwoju aplikacji na Windows'a,
							Linuxa i OSX przy wykorzystaniu JavaScript'u
							W wolnym czasie gram jako DJ i tworzę muzykę 
						</aside>
					</section>
					<section>
						<div class="image--circle">
							<img src="https://scontent-waw1-1.xx.fbcdn.net/v/t1.0-9/10426625_918715134820645_1822446987327838889_n.jpg?oh=a3d9c0fcc0fc3eb394b198bb6230b327&oe=59513155"/>
						</div>
						<h3 class="header header--small">Sebastian Musiał</h3>
						<ul class="list">
							<li>Pracuje w Chilid od ponad 2,5 lat</li>
							<li>Miłośnik czystego kodu i nowych techonologii</li>
							<li>Zdarzało mu się pisać w AngularJS, React + Redux</li>
							<li>Uwielbia jazdę na motocyklu i sport - piłka nożna, sztuki walki, jazdę na rolkach</li>
							<li>Wierny kibic Arsenalu</li>
						</ul>
					</section>
					<section>
						<div class="image--circle">
							<img src="https://scontent-waw1-1.xx.fbcdn.net/v/t1.0-9/13164335_10206546419724635_584207981158968800_n.jpg?oh=206d35a7f671423993dc996b589232fd&oe=59882107" style="filter: grayscale(100%);"/>
						</div>
						<h3 class="header header--small">Krystian Kościelniak</h3>
						<ul class="list">
							<li>Od małego zajarany IT, od 2,5 roku front-endem</li>
							<li>Tworzył w AngularJS, Vue.js, Node.js</li>
							<li>Reacta nadal się uczy</li>
							<li>Wierzy w Prawo Atwooda https://blog.codinghorror.com/the-principle-of-least-power/</li>
							<li>Po godzinach buja się na desce i gra na ukulele</li>
						</ul>
					</section>
					
				</section>
				<section>
					<section>
							<h3 class="header">Co to React Native?</h3>
					</section>
					<section>
							<img class="header__image" src="http://angular.github.io/react-native-renderer/assets/react.png" />
							<h3 class="header header--between"> + </h3>
							<div class="inline-block">
								<img src="https://www.marketjs.com/shell/ios/sales/ioslogo.png" />
								<img class="android" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTBzfcPhx-FbFeFHgUOt7AZdXiCHDTwnIURu2UAnBr2HDrM95393A" />
							</div>
					</section>
					<section>
							<img class="header__image header__image--big" src="https://hharnisc.github.ioimages/posts/react-native-bridge.png" />
					</section>
					<section>
							<img class="header__image header__image--very-big" src="images/diagram.svg" />
					</section>
				</section>
				<section>
						<section>
							<img class="header__image" src="images/firebase-logo.png" />
							<h1 class="header">Firebase</h1>
						</section>
						<section>
							<img class="header__image header__image--big" src="images/firebase-capabilities.png" />
						</section>
						<section>
							<img class="header__image header__image--big" src="images/firebase-schema.png" />
						</section>
						<section>
							<h3 class="header header--small">Konfiguracja firebase</h3>
							<img class="header__image header__image--big" src="images/firebase-database.png" />
						</section>
						<section>
							<h3 class="header header--small">Metody logowania</h3>
							<img class="header__image header__image--big" src="images/firebase-logowanie.png" />
							<aside class="notes">
								Uwierzytelnianie działa przy uzyciu standardów OAuth 2.0 oraz OpenID. 
								Firebase ustępnia bardzo proste w uzyciu API do rejestracji i logowania.
								Na zdjęciu widac dostępne metody logowania. W naszej aplikacji posłuzylismy się standardową metodą: email/hasło.
								W innych przypadkach nalezy miec dodatkowo konto developerskie (serwer autoryzacyjny) w danej platformie (np. facebook, twitter).
							</aside>
						</section>
						<section>
							<h3 class="header header--small">Konfiguracja firebase</h3>
							<pre><code data-trim data-noescape>
								export const firebaseConfig = {
									apiKey: "AIzaSyBsX1M9rZJxxlPyt8GpJz4oN0GT-1wXtfk",
									authDomain: "xlab-react.firebaseapp.com",
									databaseURL: "https://xlab-react.firebaseio.com",
									projectId: "xlab-react",
									storageBucket: "xlab-react.appspot.com",
									messagingSenderId: "113610200437"
								}
							</code></pre>
							<aside class="notes">
								Dane konfiguracyjne firebase. Kazda aplikacja w firebase posiada wlasne unikalne dane, ktore odczytuje sie z panelu firebase. 
								Mozna tutaj stworzyc własne konto w firebase i podpiąc wlasne dane.
							</aside>
						</section>
						<section>
							<h3 class="header header--small">Konfiguracja firebase</h3>
							<pre><code data-trim data-noescape>
								import { firebaseConfig } from './config'

								const firebaseApp = firebase.initializeApp(firebaseConfig);
							</code></pre>
							<aside class="notes">
								Wczytanie obiektu z konfiguracjami firebase.
								Inicjalizacja firebase na podstawie pobranego obiektu.
							</aside>
						</section>
						<section>
							<h3 class="header header--small">firebase API - authentication</h3>
							<pre><code data-trim data-noescape class="javascript">
								firebase.auth().onAuthStateChanged(userData => {
									if (userData) {
										// użytkownik jest zalogowany
										console.log(userData)
									} else {
										// użytkownik nie jest zalogowany
									}
								})
							</code></pre>
							<aside class="notes">
								Przykład odnoszący się do standardowej akcji udostępnionej w firebase - sprawdzenia czy uytkownik jest zalogowany.
							</aside>
						</section>
						<section>
							<h3 class="header header--small">firebase API - database</h3>
							<pre><code data-trim data-noescape class="javascript">
								this.roomRef = firebase.database().ref().child('rooms')
							</code></pre>

							<pre><code data-trim data-noescape class="javascript">
								this.roomRef.on('value', rooms => {
									console.log(rooms);

									rooms.forEach((item) => {
										console.log(item.val());
									});
								});
							</code></pre>

							<pre><code data-trim data-noescape class="javascript">
								this.roomRef.push({
									name: 'Nazwa nowego pokoju',
								}).then(data => {
									// Akcja została wykonana poprawnie
								})
							</code></pre>
							<aside class="notes">
								Pierwszy fragment kodu odnosi się do pozyskania referencji obiektu z listą pokojów. Warto umieścic go w konstruktorze, aby był widoczny w przedstrzeni całego komponentu.
								<br><br>
								Drugi fragment kodu odnosi się do pobrania wszystkich pokojów i wyświetlenia w konsoli wartości. Działamy tutaj na zapisanej wczęsniej referencji odnoszącej się do obiektu 'rooms' z bazy danych firebase. 
								Otrzymywane dane są w postaci obiektów.
								<br><br>
								Trzeci fragment odnosi się do dodawania wartości do bazy danym. Tutaj równiez pracuje się na zapisanej do zmiennej wcześniej refencji.
							</aside>
						</section>
				</section>
				<section>
					<section>
							<h3 class="header">Rozstawienie środowiska</h3>
					</section>
					<section>
							<img class="header__image" src="https://camo.githubusercontent.com/afe4da8c5d6a958841310e53519d85a94aab8036/687474703a2f2f6769742d73636d2e636f6d2f696d616765732f6c6f676f732f646f776e6c6f6164732f4769742d4c6f676f2d32436f6c6f722e706e67" />
							<pre>
								<code class="bash" data-trim data-noescape>
									git clone git@github.com:xsolve-pl/xlab-9.git
								</code>
							</pre>
					</section>
					<section>
							<h3 class="header header--small">Zainstalowanie wszystkich modułów</h3>
							<pre>
								<code class="Bash" data-trim data-noescape>
									npm install && react-native link
								</code>
							</pre>
					</section>
					<section>
							<img class="header__image" src="https://www.marketjs.com/shell/ios/sales/ioslogo.png" />
							<pre>
								<code class="Bash" data-trim data-noescape>
									react-native run-ios
								</code>
							<img class="header__image" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTBzfcPhx-FbFeFHgUOt7AZdXiCHDTwnIURu2UAnBr2HDrM95393A" />
							<code class="Bash" data-trim data-noescape>
									react-native run-android
								</code>
							</pre>
					</section>
				</section>
				<section>
					<section>
						<h3 class="header">Struktura aplikacji</h3>
					</section>
					<section>
						<img class="header__image header__image--big" src="images/struktura.png" />
					</section>
					<section>
						<img class="header__image header__image--big" src="images/struktura2.png" />
					</section>
					<section>
						<h3 class="header header--small">layouts/LayoutView.js</h3>
						<pre><code data-trim data-noescape>
							import React, { Component } from 'react'
							import { 
								ScrollView, 
								View, 
								Text, 
								Image 
							} from 'react-native'
							import KeyboardSpacer from 'react-native-keyboard-spacer'
							import * as firebase from 'firebase'

							import { styles } from './styles'
							import { backgroundImage } from '../../images'
							import { Button } from './../../components/Button'

							Object.assign(styles, layoutStyles)
						</code></pre>
					</section>
					<section>
						<h3 class="header header--small">layouts/LayoutView.js</h3>
						<pre>
							<code data-trim data-noescape class="javascript">
							export class LoginView extends Component {
								constructor(props) {
									super(props);
									
									this.state = {
										email: ' ',
										password: ' ',
										error: false,
									}
								}
								...
							}
							</code>
						</pre>
					</section>
					<section>
						<h3 class="header header--small">Logowanie</h3>
						<pre>
							<code data-trim data-noescape class="javascript">
							handleSignIn() {
								this.setState({ error: false })

								/*
									ZADANIE NR.1 - Logowanie
									TODO :: Logowanie
								*/
							}
							</code>
						</pre>
					</section>
					<section>
						<h3 class="header header--small">Rejestracja</h3>
						<pre>
							<code data-trim data-noescape class="javascript">
							handleSignUp() {
								this.setState({ error: false })

								/*
									ZADANIE NR.1 - Logowanie
									TODO :: Rejestracja
								*/
							}
							</code
						></pre>
					</section>
					<section>
						<h3 class="header header--small">Renderowanie</h3>
						<pre>
							<code data-trim data-noescape class="javascript">
							render() {
								return (
									&lt;ScrollView 
										contentContainerStyle={styles.container}
										scrollEnabled={false}
									&gt;
										&lt;View style={[styles.section, styles.textSection]}&gt;
											&lt;Text style={styles.title}&gt;
												Witamy w aplikacji
											&lt;/Text&gt;
											&lt;Text style={styles.paragraph}&gt;
												Lorem ipsum {'\n'} lorem
											&lt;/Text&gt;
									...
							</code>
						</pre>
					</section>
				</section>
				<section>
					<section>
							<h3 class="header">Logowanie</h3>
					</section>
					<section>
						<video width="400" height="400" autoplay loop>
							<source src="images/logowanie-rej.mov" type="video/webm">
						</video>
					</section>
					<section>
						<pre>
							<code class="js" data-trim>
								firebase.initializeApp(Object: firebaseConfig): Object
							</code>
						</pre>
					</section>
					<section>
						<pre>
							<code class="js" data-trim>
								firebase
									.auth()
									.signInWithEmailAndPassword(String: email, String: password): Promise

								firebase
									.auth()
									.createUserWithEmailAndPassword(String: email, String: password): Promise

								firebase
									.auth()
									.onAuthStateChanged(Function: (userData) => {}): Promise
							</code>
						</pre>
					</section>
				</section>
				
				<section>
					<section>
						<h3 class="header">Zadanie 1</h3>
					</section>
					<section>
							<img class="header__image" src="https://camo.githubusercontent.com/afe4da8c5d6a958841310e53519d85a94aab8036/687474703a2f2f6769742d73636d2e636f6d2f696d616765732f6c6f676f732f646f776e6c6f6164732f4769742d4c6f676f2d32436f6c6f722e706e67" />
							<pre>
								<code class="bash" data-trim data-noescape>
									git checkout zad-1
								</code>
							</pre>
					</section>
					<section>
						<p>
							Dokonaj inicjalizacji firebase oraz sprawdz czy użytkownik jest już zalogowany w aplikacji. Zajrzyj do pliku:
						</p>
						<pre>
							<code data-trim data-noescape class="js">
							src/layouts/LoginView/index.js
							</code>
							<code data-trim data-noescape class="js">
							componentDidMount() {
								/*
									ZADANIE NR.1 - Logowanie
									TODO :: Sprawdzenie czy jestesmy juz zalogowani
								*/

								if (this.navigator.getCurrentRoutes()[0].name === 'SPLASH') {
									this.navigator.push({
										name: 'LOGIN',
									})
								}
							}
							</code>
						</pre>
						<aside class="notes">
							W routes.js nalezy dokonać inicjalizacji firebase i sprawdzic czy uztykownik jest zalogowany (metoda onAuthStateChanged). Następnie zminić widok aplikacji na odpowidni (logowanie lub dashboard)
							<br><br>
							this.navigator.push(({<br>
								name: 'DASHBOARD',<br>
								user: userData,<br>
							})
						</aside>
					</section>
					<section>
						<p>
							Uzupełnij funkcje handleSignIn i handleSignUp odpowiadające za rejestracje i logowanie. Zajrzyj do pliku:
						</p>
						<pre>
							<code data-trim data-noescape class="js">
							src/layouts/LoginView/index.js
							</code>
							<code data-trim data-noescape class="js">
							handleSignIn() {
								this.setState({ error: false })

								/*
									ZADANIE NR.1 - Logowanie
									TODO :: Logowanie
								*/
							}

							handleSignUp() {
								...
							}
							</code>
						</pre>
						<aside class="notes">
							W logowniu nalezy uzyc metod: signInWithEmailAndPassword, createUserWithEmailAndPassword, onAuthStateChanged
							<br><br>
							Przykład rozwiązania:<br>
							 firebase.auth().signInWithEmailAndPassword(this.state.email, this.state.password)
            				.catch(error => this.setState({ error: error.message }))
							<br><br>
							Prosimy pamiętaj o wyświetleniu komunikatu błędu podczas prób rejestacji i logowania.
						</aside>
					</section>
				</section>
				
				<section>
					<h3 class="header">Przerwa 🍔⏱</h3>
				</section>

				<section>
					<section>
						<h3 class="header">Routing i własne komponenty</h3>
					</section>
					<section>
						<video width="400" height="400" autoplay loop>
							<source src="images/components.mov" type="video/webm">
						</video>
					</section>
					<section>
						<img class="header__image header__image--medium" src="images/comp-dirs.png" />
					</section>
					<section>
						<h3 class="header header--small">components/Header/index.js</h3>
						<img class="header__image header__image--medium" src="images/comp-struct.png" />
					</section>
					<section>
						<h3 class="header header--small">components/Header/styles.js</h3>
						<img class="header__image header__image--medium" src="images/comp-styles.png" />
					</section>
					<section>
						<h3 class="header">Navigator</h3>
						<pre>
							<code data-trim data-noescape class="js">
								this.props.navigator.push({
									name: 'NAZWA_WIDOKU',
									passProps: {
										userName: 'Tomek',
										foo: bar,
									}
								})
							</code>
						</pre>
					</section>
					<section>
						<h3 class="header">Alert</h3>
						<pre>
							<code data-trim data-noescape class="js">
								Alert.alert(
									'Alert Title',
									'My Alert Msg',
									 [{ text: 'OK' }],
									{ cancelable: false }
								);
							</code>
						</pre>
					</section>
				</section>

				<section>
					<section>
						<h3 class="header">Zadanie 2</h3>
					</section>
					<section>
						<img class="header__image" src="https://camo.githubusercontent.com/afe4da8c5d6a958841310e53519d85a94aab8036/687474703a2f2f6769742d73636d2e636f6d2f696d616765732f6c6f676f732f646f776e6c6f6164732f4769742d4c6f676f2d32436f6c6f722e706e67" />
						<pre>
							<code class="bash" data-trim data-noescape>
								git checkout zad-2
							</code>
						</pre>
					</section>
					<section>
							<h3 class="header header--small">
								Uzupełnij routing w komponencie Header
							</h3>
							<pre>
								<code data-trim data-noescape class="js">
									components/Header/index.js
								</code>
								<code data-trim data-noescape class="js">
								handleShowProfile() {
									/*
										ZADANIE NR.2 - Routing
										TODO :: Powrót do wyboru nicku
									*/
								}

								handleLogOut() {
									firebase.auth().signOut()
									/*
										ZADANIE NR.2 - Routing
										TODO :: wylogowanie
									*/
								}
								</code>
							</pre>
					</section>
					<section>
						<h3 class="header header--small">
							Wprowadz kod widoczny tylko dla urządzeń z systemem iOS
						</h3>
						<pre>
							<code data-trim data-noescape class="js">
								components/Header/index.js
							</code>
							<code data-trim data-noescape class="js">
								&lt;View style={[styles.headerColumn, styles.headerColumnFirst]}&gt;
									{
										/*
											ZADANIE NR.2 - Routing
											TODO :: Strzałka w tył - 'ios-arrow-back', tylko dla IOS'a
											KOMPONENTY: Platform, TouchableOpacity, Icon
										*/
									}
								&lt;/View&gt;
							</code>
						</pre>
					</section>
					<section>
						<h3 class="header header--small">
							Routing - przejście do chatu
						</h3>
						<pre>
							<code data-trim data-noescape class="js">
								components/RoomList/index.js
							</code>
							<code data-trim data-noescape class="js">
								handleShowChat(room) {
									/*
										ZADANIE NR.2 - Routing
										TODO :: Widok pojedynczego czatu ('CHAT')
									*/
								}
							</code>
						</pre>
					</section>
					<section>
						<h3 class="header header--small">
							Komunikat po dodaniu pokoju
						</h3>
						<pre>
							<code data-trim data-noescape class="js">
								src/layouts/RoomView/index.js
							</code>
							<code data-trim data-noescape class="js">
								showAlert() {
									/*
										ZADANIE NR.2 - Tworzenie własnego komponentu
										TODO :: Informacja po dodaniu pokoju
									*/
								}
							</code>
						</pre>
					</section>
					<section>
						<h3 class="header header--small">
							Tworzenie własnego komponentu
						</h3>
						<pre>
							<code data-trim data-noescape class="js">
								components/FloatingInput/index.js
								components/FloatingInput/styles.js
							</code>
							<code data-trim data-noescape class="js">
							&lt;View style={styles.inputBox}&gt;
								{
									/*
										ZADANIE NR.2 - Tworzenie własnego komponentu
										TODO :: Input dodania pokoju
									*/
								}
							&lt;/View&gt;
							</code>
						</pre>
					</section>
				</section>

				<section>
						<section>
							<h3 class="header">Firebase integracja</h3>
						</section>
						<section>
							<video width="400" height="400" autoplay loop>
								<source src="images/firebase.mov" type="video/webm">
							</video>
						</section>
				</section>
				<section>
						<section>
							<h3 class="header">List wiadomości</h3>
						</section>
						<section>
							<video width="400" height="400" autoplay loop>
								<source src="images/wysyłanie-1.mov" type="video/webm">
							</video>
						</section>
				</section>
				<section>
						<section>
								<h3 class="header header--small">Można wysyłać aplikację do sklepu 🚀</h3>
						</section>
						<section>
								<h3 class="header header--small">Zajarani? 🔥</h3>
								<h3 class="header header--small">Więcej info na 📖</h3>
								<ul class="list">
									<li>
										<a href="https://github.com/jondot/awesome-react-native">https://github.com/jondot/awesome-react-native</a>
									</li>
									<li>
										<a href="https://medium.com/tag/react-native">https://medium.com/tag/react-native</a>
									</li>
									<li>
										<a href="https://facebook.github.io/react-native/">https://facebook.github.io/react-native</a>
									</li>
									<li>
										<a href="http://www.reactnative.com">http://www.reactnative.com</a>
									</li>
								</ul>
						</section>
						<section>
								<h3 class="header header--small">Dziękujemy za przyjście i zapraszamy ponownie 🎉🎉🎉</h3>
						</section>
				</section>
			</div>
			<div class="floating-footer">
				<div class="logo">
					<div class="logo__item">
						<img src="https://chilid.com/assetsimages/logos/logo-chilid-blackish.svg" />
					</div>
					<div class="logo__item">
						<img src="https://www.xsolve.pl/wp-content/themes/xsolve2014/assets/img/svg/xs-logo.svg" />
					</div>
				</div>
				<p>Xlab #9 - React Native</p>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
